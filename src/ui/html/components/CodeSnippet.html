<div class="code-container" id="code-container-<?= data.id ?>">
  <code id="code-<?= data.id ?>"><?!= data.code ?></code>
  <button
    class="copy-button"
    onclick="SheetsAI.copyToClipboardAndToast('code-<?= data.id ?>')"
    aria-label="Copy code to clipboard"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="14"
      height="14"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="lucide lucide-clipboard"
    >
      <rect width="8" height="4" x="8" y="2" rx="1" ry="1" />
      <path
        d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"
      />
    </svg>
  </button>
</div>
<? if (data.caption) { ?>
<p class="code-caption"><?= data.caption ?></p>
<? } ?>
